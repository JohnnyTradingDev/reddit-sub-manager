<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Reddit Subs</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="logo">üìã <span>Reddit Subs</span></div>
            <div class="header-btns">
                <button id="viewToggle" class="h-btn">‚ò∞</button>
                <button id="addBtn" class="h-btn primary">+</button>
                <button id="menuBtn" class="h-btn">‚ãÆ</button>
            </div>
        </header>

        <!-- Category Tabs -->
        <div class="tabs" id="tabs"></div>

        <!-- Search -->
        <div class="search-row">
            <input type="text" id="search" placeholder="üîç T√¨m...">
            <select id="sort">
                <option value="lastPosted">üìÖ Ng√†y</option>
                <option value="name">üî§ T√™n</option>
                <option value="subscribers">üë• Sub</option>
            </select>
        </div>

        <!-- Content -->
        <div class="content" id="content"></div>

        <!-- Bottom Nav -->
        <nav class="bottom-nav">
            <button class="nav-btn active" data-cat="all">üè†</button>
            <button class="nav-btn" data-cat="crypto">üí∞</button>
            <button class="nav-btn" data-cat="karma">‚≠ê</button>
            <button class="nav-btn" data-cat="zero-karma">üöÄ</button>
        </nav>

        <!-- Menu Overlay -->
        <div class="overlay" id="menuOverlay">
            <div class="menu">
                <div class="menu-header">
                    <h3>Menu</h3>
                    <button id="closeMenu">‚úï</button>
                </div>
                <div class="menu-items">
                    <button onclick="openCategoryModal()">‚ûï Th√™m Category</button>
                    <button onclick="exportData()">üì• Export</button>
                    <button onclick="resetData()">üîÑ Reset</button>
                </div>
                <div class="menu-cats" id="menuCats"></div>
            </div>
        </div>

        <!-- Sub Modal -->
        <div class="overlay" id="subOverlay">
            <div class="modal">
                <div class="modal-header">
                    <h3 id="subTitle">Th√™m Sub</h3>
                    <button id="closeSub">‚úï</button>
                </div>
                <form id="subForm">
                    <input type="url" id="subUrl" placeholder="URL reddit.com/r/..." required>
                    <div class="row">
                        <input type="text" id="subType" placeholder="Lo·∫°i">
                        <input type="text" id="subSubs" placeholder="Subscribers">
                    </div>
                    <select id="subCat" required></select>
                    <input type="url" id="subGPT" placeholder="ChatGPT link">
                    <div class="date-row">
                        <input type="date" id="subDate">
                        <div class="quick-dates">
                            <button type="button" data-d="0">Nay</button>
                            <button type="button" data-d="1">Qua</button>
                            <button type="button" data-d="7">7d</button>
                        </div>
                    </div>
                    <input type="text" id="subNature" placeholder="Ghi ch√∫ / Rules">
                    <div class="modal-btns">
                        <button type="button" id="cancelSub">H·ªßy</button>
                        <button type="submit" class="primary">L∆∞u</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Category Modal -->
        <div class="overlay" id="catOverlay">
            <div class="modal small">
                <div class="modal-header">
                    <h3 id="catTitle">Th√™m Category</h3>
                    <button id="closeCat">‚úï</button>
                </div>
                <form id="catForm">
                    <input type="text" id="catName" placeholder="T√™n" required>
                    <input type="color" id="catColor" value="#6366f1">
                    <div class="modal-btns">
                        <button type="button" id="cancelCat">H·ªßy</button>
                        <button type="submit" class="primary">L∆∞u</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Quick Date Sheet -->
        <div class="overlay" id="dateOverlay">
            <div class="sheet">
                <div class="sheet-header">
                    <h3>üìÖ C·∫≠p nh·∫≠t ng√†y</h3>
                    <button id="closeDate">‚úï</button>
                </div>
                <p id="dateSub"></p>
                <div class="date-grid">
                    <button data-d="0">H√¥m nay</button>
                    <button data-d="1">H√¥m qua</button>
                    <button data-d="2">2 ng√†y</button>
                    <button data-d="3">3 ng√†y</button>
                    <button data-d="7">1 tu·∫ßn</button>
                    <button data-d="14">2 tu·∫ßn</button>
                </div>
                <div class="custom-row">
                    <input type="date" id="customDate">
                    <button id="applyDate" class="primary">OK</button>
                </div>
            </div>
        </div>

        <!-- Delete Modal -->
        <div class="overlay" id="delOverlay">
            <div class="modal small">
                <div class="modal-header">
                    <h3>X√≥a?</h3>
                    <button id="closeDel">‚úï</button>
                </div>
                <p id="delMsg"></p>
                <div class="modal-btns">
                    <button id="cancelDel">H·ªßy</button>
                    <button id="confirmDel" class="danger">X√≥a</button>
                </div>
            </div>
        </div>
    </div>

    <script src="data.js"></script>
    <script src="app.js"></script>
</body>

</html>